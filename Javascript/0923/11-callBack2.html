<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>  
    // 콜백 함수
    /*
        - 특정 함수의 제어권을 다른 함수로 넘길 때 사용하는 함수
        - 콜백 함수는 매개변수에 함수를 호출하여 해당 함수 안에서 실행시키도록 하여 전개할 수 있다.
        - 콜백 함수는 실제 콜한 함수를 미리 정해진 방식에 따라 호출하여 실행하는데 여기서 정해진 방식이란
          this에 무엇을 바인딩 할지, 매개변수에는 어떤 값을 지정할지, 어떤 타이밍에 콜백을 호출할지 들을 이야기한다.
        - 콜백 함수는 주로 비동기 프로그램을 작성할 때 사용이 빈번하게 일어나는데 기존 자바스크립트에서는 외부의
          자원을 호출할 경우 해당 호출이 완료될 때 까지 기다리지 않고 바로 로직을 실행해 버리기 때문에 우리가 생각하던
          연산 결과와는 전혀 다른 결과를 받을 수 있다.
        - 콜백함수는 이러한 비동기 연산을 강제로 동기화 시킬 수 있도록 비동기로 진행되는 로직을 동기화하여 진행할 수 
          있도록 로직을 수정할 수 있다.
        - 다만 이 과정에서 콜백함수의 남용으로 인해 함수에 대한 가독성이 대폭 떨어질 수 있으며 아직 까지 - 특히 JQurey-
          콜백 함수를 남용하여 여러 비동기 함수를 순차적으로 처리하려는 로직들이 다수 눈에 띈다.
        - 현재 ECMAScript에서는 이러한 콜백함수의 남용을 방지하기 위해 promise와 async, await 라는 기능을 삽입하였고,
          이 기능을 통해 ECMAScript에서는 콜백함수의 남용을 어느정도 자제할 수 있도록 하였다.
    */

    // setTimeout(function(){
    //     console.log("서울시 데이터 센터에서 받아온 데이터");
    // }, 3000);
    // setTimeout(function(){
    //     console.log("국제 IDC 센터에서 받아온 데이터");
    // }, 5000);
    // setTimeout(function(){
    //     console.log("내 서버에서 받아온 데이터");
    // }, 1000);

    // setTimeout(function(){
    //     console.log("서울시 데이터 센터에서 받아온 데이터");
    //         setTimeout(function(){
    //             console.log("국제 IDC 센터에서 받아온 데이터");
    //             setTimeout(function(){
    //                 console.log("내 서버에서 받아온 데이터");
    //         }, 1000);
    //     }, 5000);
    // }, 3000);

    // 묶음으로써 동기화

    function first() {
            console.log("서울시 데이터 센터에서 받아온 데이터");
            setTimeout(second, 5000);
            // 함수 second를 실행한다 5초뒤에
        }

        function second() {
            console.log("국제 IDC 센터에서 받아온 데이터");
            setTimeout(third, 1000);
            // 함수 third를 실행한다 1초뒤에
        }

        function third() {
            console.log("내 서버에서 받아온 데이터");
        }
        setTimeout(first, 3000);
        // 함수 first를 실행한다 3초뒤에
    </script>
</body>
</html>